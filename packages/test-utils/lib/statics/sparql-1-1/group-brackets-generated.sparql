PREFIX : <http://www.example.org/> SELECT ?company ( count( DISTINCT ?key ) AS ?keyCount ) WHERE { ?company <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> :Company . ?company :hasKey ?key . } GROUPBY ?company ORDERBY ?company